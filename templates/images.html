{% extends "layout.html" %}

{% block main %}
	<div class="container">
		<div class="row">
			<div class="col">
				<h1>Images</h1>
			</div>
		</div>
		<div class="row">
			{% if get_flashed_messages() %}
				<div class="alert alert-primary border text-center" role="alert">
					{{ get_flashed_messages() | join (" ") }}
				</div>
			{% endif %}
			<div class="col">
				<table class="table table-striped">
					<thead>
						<tr>
							<th scope="col">Repository</th>
							<th scope="col">Tag</th>
							<th scope="col">Image ID</th>
							<th scope="col">Created</th>
							<th scope="col">Size</th>
							<th scope="col">Action</th>
						</tr>
					</thead>
					<tbody>
						{% for image in images %}
						<tr>
							<td>{{ image.repository }}</td>
							<td>{{ image.tag }}</td>
							<td>{{ image.id }}</td>
							<td>{{ image.created }}</td>
							<td>{{ image.size }}</td>
							<td>
								<form method="POST">
									<input type="hidden" name="repo" value="{{ image.repository }}">
									<input type="hidden" name="tag" value="{{ image.tag }}">
									<button type="submit" class="btn btn-danger">Delete</button>
								</form>
							</td>
						</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>
	</div>
{% endblock %}